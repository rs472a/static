import{E as p,F as B,G as S,J as _,K as U,L as f,M as w,R as E,S as z,T as I,U as A,V as R,W as G,Z as x,a as D,b as y,ca as X,da as K,e as P,ea as $,f as M,fa as q,h as N,ha as Q,i as a,j as h,k as T,l as k,m as c,n as j,o as L,p as O,q as o,r as l,s as d,t as v,u as b,x as C,y as H}from"./chunk-KXHUNILG.js";var Z=(t,r)=>({"btn-secondary":t,"btn-warning":r});function J(t,r){t&1&&(v(0),p(1,"Light"),b())}function ee(t,r){t&1&&(v(0),p(1,"Dark"),b())}var V=(()=>{let r=class r{get dark(){return this._dark}set dark(n){this._dark=n;let i=n?"dark":"light";this.document.body.setAttribute("data-bs-theme",i)}constructor(n){this.document=n}ngOnInit(){this.registerEvent()}registerEvent(){if(typeof window>"u")return;window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",i=>{this.dark=i.matches})}getSystemDark(){if(!(typeof window>"u"))return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}};r.\u0275fac=function(i){return new(i||r)(h(E))},r.\u0275cmp=y({type:r,selectors:[["dark-mode"]],standalone:!0,features:[_],decls:6,vars:6,consts:[[1,"position-relative","d-flex","gap-2","align-items-center","btn","border-0","p-0",3,"click"],["type","button","title","Dark Mode",1,"btn","border-0","rounded-circle",3,"ngClass"],[1,"bi","bi-sun-fill"],[1,"text-light"],[4,"ngIf"]],template:function(i,e){i&1&&(o(0,"div",0),C("click",function(){return e.dark=!e.dark}),o(1,"button",1),d(2,"i",2),l(),o(3,"div",3),k(4,J,2,0,"ng-container",4)(5,ee,2,0,"ng-container",4),l()()),i&2&&(a(),c("ngClass",w(3,Z,e.dark,!e.dark)),a(3),c("ngIf",!e.dark),a(),c("ngIf",e.dark))},dependencies:[x,I,R]});let t=r;return t})();var te=t=>({backgroundColor:t}),ne=t=>({"bg-dark":t}),ie=t=>({"d-grid":t}),re=()=>({transition:"0.5s all ease-in-out"}),oe=t=>({height:t}),ae=t=>({"opacity-75":t}),se=t=>[t],le=(t,r)=>({"btn-warning active":t,"text-light":r});function ce(t,r){if(t&1&&(v(0),o(1,"a",22),p(2),l(),b()),t&2){let m=r.$implicit,n=H();a(),c("routerLink",f(4,se,"./"+m.path))("relativeTo",n.route)("ngClass",w(6,le,n.isSelected(m.path),!n.isSelected(m.path))),a(),S(" ",m.title," ")}}function de(t,r){if(t&1&&(v(0),o(1,"div",23)(2,"a",24),d(3,"i"),o(4,"span",25),p(5),l()()(),b()),t&2){let m=r.$implicit;a(2),c("href",m.url,M),a(),O("bi ",m.cssIcon," ",m.cssColor,""),a(2),B(m.text)}}var we=(()=>{let r=class r{constructor(n,i,e,s,u,F){this.app=n,this.router=i,this.route=e,this.location=s,this.zone=u,this.document=F,this.onDataLoaded=new P,this.properties={headerHeight:100},this.linkProps={opacity:0,scrollCss:"",open:!1},this.prevScroll=0,this.router.events.pipe(D(g=>["NavigationEnd"].includes(g.constructor.name))).subscribe(g=>{this.urlSelected(g.url)})}ngOnInit(){this.init()}init(){this.links=this.router.config.find(e=>e.path=="view").children;let n=this.app.sheets,i="1r4ShyV2pvbCQK_GlKUNrpuCXtrwmXYxx5tiX7xfIdqk";n.eventGet.subscribe(e=>{this.zone.run(()=>{e.find(s=>s.sheetName=="map").list.forEach(s=>{let u=new RegExp(new RegExp('(?<=src=")\\S[^"]*',"g")).exec(s.iframe);u!=null&&(s.iframe=u[0])}),this.data=e,this.onDataLoaded.emit(e),console.log("/public data:",e)})}),n.eventLoadedGAPI.subscribe(()=>{n.sheets.getBatch(i,["setup","contact","map","items"])})}getSetup(){let n={},i=this.data?.find(e=>e.sheetName=="setup");return i?.list.filter(e=>e.page=="app").forEach(e=>{n[e.title]=e.value}),n}getContact(){return this.data?.find(n=>n.sheetName=="contact").list}urlSelected(n){let i=n.split("/"),e=i.length>2?i[i.length-1]:i[2];e==null&&(e="");let s=this.router.config.find(g=>g.path=="view")?.children;if(s==null)return;let u=s.find(g=>g.path==e);if(u==null)return;let F=u.data;this.properties.headerHeight=F.headerHeight}isSelected(n){return this.location.path().replace("/view","").replace("/","")==n}onScroll(n){let i=this.document.scrollingElement,e=this.document.body.clientHeight,s=i.scrollTop/e;this.linkProps.opacity=s,s>this.prevScroll?this.linkProps.scrollCss="fade":this.linkProps.scrollCss="show",this.prevScroll=s}};r.\u0275fac=function(i){return new(i||r)(h(Q),h($),h(X),h(z),h(T),h(E))},r.\u0275cmp=y({type:r,selectors:[["app-public"]],hostBindings:function(i,e){i&1&&C("scroll",function(u){return e.onScroll(u)},!1,N)},outputs:{onDataLoaded:"onDataLoaded"},standalone:!0,features:[_],decls:34,vars:28,consts:[[3,"ngStyle","ngClass"],[1,"d-inline","d-sm-flex","justify-content-sm-between"],[1,"d-flex","mb-sm-0","justify-content-between","align-items-center"],["title","menu","data-bs-toggle","collapse","role","button","href","#lnk","aria-expanded","false","aria-controls","lnk",1,"d-block","d-sm-none","btn","btn-lg","border-0","rounded-0","text-light",3,"click"],[1,"bi","bi-list"],["id","lnk",1,"mb-3","mb-sm-0","d-sm-flex","collapse",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"position-relative",3,"ngStyle"],[1,"position-absolute","top-0","start-0","h-100","w-100","bg-black"],["alt","bg",1,"w-100","h-100","object-fit-cover","opacity-50","position-absolute",3,"src"],[1,"position-relative","h-100","w-100",3,"ngClass"],[1,"d-grid","gap-2","text-center","align-content-center","text-light","h-100","w-100"],[1,"text-center"],[1,"d-inline","display-3"],[1,"d-flex","justify-content-center"],[1,"w-50","border","border-5","border-warning-subtle"],[1,"d-inline","display-1"],[1,"position-relative","my-5","py-5"],[1,"pt-2","text-bg-dark","position-relative","bottom-0"],[1,"mb-4","p-3","border-bottom","w-fit"],[1,"m-3","row","gap-3"],[1,"text-center","my-3","credit"],[1,"btn","border-0","rounded-0","p-2","hoverable",3,"routerLink","relativeTo","ngClass"],[1,"col-sm","text-center","text-nowrap"],[1,"btn","btn-dark",3,"href"],[1,"ps-2"]],template:function(i,e){i&1&&(o(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),C("click",function(){return e.linkProps.open=!e.linkProps.open}),d(4,"i",4),l(),o(5,"div"),d(6,"dark-mode"),l()(),o(7,"div",5),k(8,ce,3,9,"ng-container",6),l()()(),o(9,"header",7)(10,"div",8),d(11,"img",9),o(12,"div",10)(13,"div",11)(14,"div",12)(15,"h2",13),p(16),l()(),o(17,"div",14),d(18,"hr",15),l(),o(19,"div",12)(20,"h1",16),p(21),l()()()()()(),o(22,"section",17),d(23,"router-outlet"),l(),o(24,"footer",18)(25,"div",14)(26,"h1",19),p(27,"Contact Us"),l()(),o(28,"div",20),k(29,de,6,6,"ng-container",6),l(),d(30,"br"),o(31,"div",21)(32,"small"),p(33," \xA9 ND 2024 "),l()()()),i&2&&(L("position-fixed w-100 z-3 ",e.linkProps.scrollCss,""),c("ngStyle",f(17,te,"hsla(0, 0%, 10%,"+e.linkProps.opacity+")"))("ngClass",f(19,ne,e.linkProps.open)),a(7),c("ngClass",f(21,ie,e.linkProps.open)),a(),c("ngForOf",e.links)("ngForTrackBy",e.app.tracker),a(),j(U(23,re)),c("ngStyle",f(24,oe,e.properties.headerHeight+"vh")),a(2),c("src",e.getSetup().bgUrl,M),a(),c("ngClass",f(26,ae,e.linkProps.open)),a(4),S(" ",e.getSetup().serviceName," "),a(5),S(" ",e.getSetup().storeName," "),a(8),c("ngForOf",e.getContact())("ngForTrackBy",e.app.tracker))},dependencies:[K,q,x,I,A,G,V],styles:["footer[_ngcontent-%COMP%]{z-index:2}.credit[_ngcontent-%COMP%]{background-color:#0003}"]});let t=r;return t})();export{we as a};
