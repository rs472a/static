import{b as G,d as J,e as j,f as Q}from"./chunk-P424URZM.js";import{$a as $,Db as T,Eb as N,Fb as P,Gb as D,Ia as y,Jb as b,Ka as c,La as V,Ma as o,Na as s,Oa as p,Pa as f,Qa as g,Qb as x,R as u,Rb as w,Sa as K,Ta as k,Ua as S,Y as A,Z as U,_a as m,ab as M,da as L,db as q,eb as v,gb as C,hb as I,ta as O,wa as B,ya as a,za as d,zb as W}from"./chunk-6WP2VIMU.js";var te=(i,r)=>({"btn-secondary":i,"btn-warning":r});function ne(i,r){i&1&&(f(0),m(1,"Light"),g())}function ie(i,r){i&1&&(f(0),m(1,"Dark"),g())}var X=(()=>{let r=class r{get dark(){return this._dark}set dark(t){this._dark=t;let e=t?"dark":"light";this.document.body.setAttribute("data-bs-theme",e)}constructor(t){this.document=t}ngOnInit(){this.registerEvent()}registerEvent(){this.document.defaultView.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",n=>{this.dark=n.matches})}getSystemDark(){let t=this.document.defaultView;return t.matchMedia&&t.matchMedia("(prefers-color-scheme: dark)").matches}};r.\u0275fac=function(e){return new(e||r)(d(W))},r.\u0275cmp=u({type:r,selectors:[["dark-mode"]],standalone:!0,features:[v],decls:6,vars:6,consts:[[1,"position-relative","d-flex","gap-2","align-items-center","btn","border-0","p-0",3,"click"],["type","button","title","Dark Mode",1,"btn","border-0","rounded-circle",3,"ngClass"],[1,"bi","bi-sun-fill"],[1,"text-light"],[4,"ngIf"]],template:function(e,n){e&1&&(o(0,"div",0),k("click",function(){return n.dark=!n.dark}),o(1,"button",1),p(2,"i",2),s(),o(3,"div",3),y(4,ne,2,0,"ng-container",4)(5,ie,2,0,"ng-container",4),s()()),e&2&&(a(),c("ngClass",I(3,te,n.dark,!n.dark)),a(3),c("ngIf",!n.dark),a(),c("ngIf",n.dark))},dependencies:[b,T,P]});let i=r;return i})();var Y=i=>({open:i}),oe=i=>({backgroundColor:i}),ae=i=>[i],se=i=>({"bg-warning text-dark bg-opacity-75":i});function ce(i,r){if(i&1){let l=K();f(0),o(1,"a",8),k("click",function(){A(l);let e=S();return U(e.open=!1)}),m(2),s(),g()}if(i&2){let l=r.$implicit,t=S();a(),c("routerLink",C(3,ae,l.path))("ngClass",C(5,se,t.checkUrl(l))),a(),M(" ",l.title," ")}}var z=(()=>{let r=class r{constructor(t){this.router=t,this.open=!1,this.links=[],this.scrollCss="",this.opacity=0,this.router.config.filter(e=>e.title!=null).forEach(e=>{this.links.push({title:e.title.toString(),path:e.path})})}checkUrl(t){return this.router.url.indexOf(t.path)>0}onScroll(t){let e=document.scrollingElement,n=document.body.clientHeight,h=e.scrollTop/n;this.opacity=h,h>.5?this.scrollCss="bg-dark":this.scrollCss=""}navClicked(t){t.target.tagName=="NAV"&&(this.open=!1)}tracker(t,e){return e}};r.\u0275fac=function(e){return new(e||r)(d(j))},r.\u0275cmp=u({type:r,selectors:[["app-navbar"]],hostBindings:function(e,n){e&1&&k("scroll",function(_){return n.onScroll(_)},!1,B)},standalone:!0,features:[v],decls:10,vars:11,consts:[[1,"position-absolute","h-100","w-100","sidebar"],[1,"sticky-top",3,"click","ngClass","ngStyle"],[1,"d-lg-flex","align-items-center","justify-content-end","mx-md-3","mx-lg-0"],["type","button","title","menu",1,"btn","btn-lg","text-light","border-0",3,"click"],[1,"bi","bi-list"],[1,"row","row-cols-lg-auto","top-0","mx-2","my-lg-0","justify-content-between","w-100","items",3,"ngClass"],[1,"d-grid","d-lg-flex","p-3","p-lg-0"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-2","text-decoration-none","text-light",3,"click","routerLink","ngClass"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"nav",1),k("click",function(_){return n.navClicked(_)}),o(2,"div",2)(3,"button",3),k("click",function(){return n.open=!n.open}),p(4,"i",4),s(),o(5,"section",5)(6,"div"),p(7,"dark-mode"),s(),o(8,"div",6),y(9,ce,3,7,"ng-container",7),s()()()()()),e&2&&(a(),c("ngClass",C(5,Y,n.open))("ngStyle",C(7,oe,"hsla(0, 0%, 10%,"+n.opacity+")")),a(4),c("ngClass",C(9,Y,n.open)),a(4),c("ngForOf",n.links)("ngForTrackBy",n.tracker))},dependencies:[b,T,N,D,Q,X],styles:[".sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{z-index:2;transition:all 1s ease}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 990px){.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block}.sidebar[_ngcontent-%COMP%]   nav.open[_ngcontent-%COMP%]{height:100vh;background-color:#000!important}.sidebar[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{transition:all 1s ease;display:none}.sidebar[_ngcontent-%COMP%]   .items.open[_ngcontent-%COMP%]{display:flex}}"]});let i=r;return i})();var Z=i=>({height:i}),le=(i,r)=>({objectPosition:i,height:r});function de(i,r){if(i&1&&(f(0),o(1,"div",3)(2,"div",4)(3,"div",5)(4,"h1",6),m(5),s()()(),o(6,"div",5)(7,"h1",7),m(8),s()()(),p(9,"img",8),g()),i&2){let l=S();a(5),M(" ",l.header.serviceName," "),a(3),M(" ",l.header.storeName," "),a(),c("src",l.header.bgUrl,O)("ngStyle",I(4,le,"50% 0%",l.headerType.height))}}function pe(i,r){if(i&1&&(f(0),o(1,"div",9)(2,"h1"),m(3),s()(),g()),i&2){let l=S();a(3),M(" ",l.header.storeName," ")}}var E=(()=>{let r=class r{constructor(t,e){this.sheets=t,this.router=e,this.url={setup:w.portfolio.tsv.setup},this.header={appName:"",serviceName:"",storeName:"",city:"",bgUrl:""},this.headerType={height:"auto"}}ngOnInit(){this.load()}load(){this.router.events.subscribe(t=>{typeof window<"u"&&window.scrollTo(0,0),this.router.config.filter(e=>e.data!=null).forEach(e=>{"/"+e.path==this.router.url&&(this.headerType.height=e.data.headerHeight)})}),this.sheets.getApiKey("static").subscribe(t=>{this.sheets.public.read(t.api,t.sheetId.bengkel_public,"setup").subscribe(n=>{this.header=this.getRenderObject(n),console.log("header loaded data"),this.sheets.eventAfterRender.emit({name:"app",data:this.header})})})}getRenderObject(t){let e={};return t.filter(n=>n.page=="app").forEach(n=>{let h=n.title,_=n.value;e[h]=_}),e}tracker(t,e){return e}};r.\u0275fac=function(e){return new(e||r)(d(x),d(j))},r.\u0275cmp=u({type:r,selectors:[["app-header"]],standalone:!0,features:[v],decls:4,vars:8,consts:[[1,"position-relative","text-light","bg-black",3,"ngStyle"],[1,"position-absolute","top-0","start-0","w-100","d-grid","justify-content-center","align-items-center","text-center",3,"ngStyle"],[4,"ngIf"],[1,"d-grid","align-content-center","gap-3"],[1,"d-flex","justify-content-center"],[1,"mb-3","border-bottom","header-border","w-fit"],[1,"p-3","pt-0"],[1,"p-3","pt-0","display-1"],["alt","Please wait while loading...",1,"position-absolute","w-100","start-0","top-0","opacity-50","align-content-center",3,"src","ngStyle"],[1,"p-3"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"header",1),y(2,de,10,7,"ng-container",2)(3,pe,4,1,"ng-container",2),s()()),e&2&&(c("ngStyle",C(4,Z,n.headerType.height)),a(),c("ngStyle",C(6,Z,n.headerType.height)),a(),c("ngIf",n.headerType.height!="0vh"),a(),c("ngIf",n.headerType.height=="0vh"))},dependencies:[b,P,D],styles:["header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{z-index:1}header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{z-index:0;object-fit:cover}.header-border[_ngcontent-%COMP%]{border-width:10px!important;border-color:bisque!important}"]});let i=r;return i})();function he(i,r){if(i&1&&(f(0),o(1,"div",6)(2,"a",7),p(3,"i"),o(4,"span",8),m(5),s()()(),g()),i&2){let l=r.$implicit;a(2),c("href",l.url,O),a(),V("bi ",l.cssIcon," ",l.cssColor,""),a(2),$(l.text)}}var F=(()=>{let r=class r{constructor(t,e){this.sheets=t,this.sanitize=e,this.url={contact:w.portfolio.tsv.contact,map:w.portfolio.tsv.map},this.contacts=[],this.maps=[]}ngOnInit(){this.load()}load(){this.sheets.getApiKey("static").subscribe(t=>{this.sheets.public.read(t.api,t.sheetId.bengkel_public,"contact").subscribe(e=>{e.filter(n=>n.platform!=null).forEach(n=>{this.contacts.push(n)}),this.sheets.eventAfterRender.emit({name:"contacts",data:this.contacts})}),this.sheets.public.read(t.api,t.sheetId.bengkel_public,"map").subscribe(e=>{e.filter(n=>n.address!=null).forEach(n=>{let h=new RegExp(new RegExp('(?<=src=")\\S[^"]*',"g")).exec(n.iframe),_={name:n.city,address:n.address,city:n.city,state:n.state,iframe:h!=null?this.sanitize.bypassSecurityTrustResourceUrl(h[0]):""};this.maps.push(_)}),this.sheets.eventAfterRender.emit({name:"maps",data:this.maps})})})}tracker(t,e){return e}};r.\u0275fac=function(e){return new(e||r)(d(x),d(G))},r.\u0275cmp=u({type:r,selectors:[["app-footer"]],standalone:!0,features:[v],decls:10,vars:2,consts:[[1,"pt-2","text-bg-dark","position-relative","bottom-0"],[1,"d-flex","justify-content-center"],[1,"mb-4","p-3","border-bottom","w-fit"],[1,"m-3","row","gap-3"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-center","my-3","credit"],[1,"col-sm","text-center","text-nowrap"],[1,"btn","btn-dark",3,"href"],[1,"ps-2"]],template:function(e,n){e&1&&(o(0,"footer",0)(1,"div",1)(2,"h1",2),m(3,"Contact Us"),s()(),o(4,"div",3),y(5,he,6,6,"ng-container",4),s(),p(6,"br"),o(7,"div",5)(8,"small"),m(9," \xA9 ND 2024 "),s()()()),e&2&&(a(5),c("ngForOf",n.contacts)("ngForTrackBy",n.tracker))},dependencies:[b,N],styles:["footer[_ngcontent-%COMP%]{z-index:2}.credit[_ngcontent-%COMP%]{background-color:#0003}"]});let i=r;return i})();var Pe=(()=>{let r=class r{constructor(t,e,n){this.pageHeader=t,this.pageFooter=e,this.sheets=n,this.attached=new L,this.registerEvent()}registerEvent(){this.sheets.eventAfterRender.forEach(t=>{switch(t.name){case"app":this.header=t.data;break;case"contacts":this.contacts=t.data;break;case"maps":this.maps=t.data;break;default:break}this.attached.emit(t)})}};r.\u0275fac=function(e){return new(e||r)(d(E),d(F),d(x))},r.\u0275cmp=u({type:r,selectors:[["app-root"]],standalone:!0,features:[q([z,E,F]),v],decls:8,vars:0,consts:[[1,"position-relative","main"],[1,"position-relative"]],template:function(e,n){e&1&&(o(0,"div",0),p(1,"app-navbar")(2,"app-header")(3,"br"),o(4,"section",1),p(5,"router-outlet")(6,"br"),s(),p(7,"app-footer"),s())},dependencies:[J,b,z,E,F]});let i=r;return i})();export{Pe as a};
